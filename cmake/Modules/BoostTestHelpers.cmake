function(boost_test_add BTA_TEST_FILE BTA_INCLUDE_DIRECTORIES BTA_LINK_LIBRARIES)
	if(${VERBOSE})
		message("boost_test_add BTA_INCLUDE_DIRECTORIES ${BTA_INCLUDE_DIRECTORIES}")
		message("boost_test_add BTA_LINK_LIBRARIES ${BTA_LINK_LIBRARIES}")
	endif()
	get_filename_component(BTA_TEST_NAME ${BTA_TEST_FILE} NAME_WE)
	add_executable(${BTA_TEST_NAME} ${BTA_TEST_FILE})
	target_include_directories("${BTA_TEST_NAME}" PRIVATE ${BTA_INCLUDE_DIRECTORIES})
	target_link_libraries(${BTA_TEST_NAME} ${BTA_LINK_LIBRARIES})
	set(BTA_TEST_DIRECTORY "${CMAKE_CURRENT_BINARY_DIR}/bin")
    set_target_properties(${BTA_TEST_NAME} PROPERTIES RUNTIME_OUTPUT_DIRECTORY  "${BTA_TEST_DIRECTORY}")
    add_test(NAME ${BTA_TEST_NAME} WORKING_DIRECTORY "${BTA_TEST_DIRECTORY}" COMMAND "${BTA_TEST_NAME}" )
endfunction()
